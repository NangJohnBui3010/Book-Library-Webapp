{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { useContext, useMemo, useRef } from 'react';\nimport { focusScope } from './scope';\nimport { mediumEffect } from './medium';\nimport { extractRef } from './util';\nvar collapseRefs = function collapseRefs(shards) {\n  return shards.map(extractRef).filter(Boolean);\n};\nvar withMedium = function withMedium(fn) {\n  return new Promise(function (resolve) {\n    return mediumEffect.useMedium(function () {\n      resolve(fn.apply(void 0, arguments));\n    });\n  });\n};\nexport var useFocusController = function useFocusController() {\n  for (var _len = arguments.length, shards = new Array(_len), _key = 0; _key < _len; _key++) {\n    shards[_key] = arguments[_key];\n  }\n  if (!shards.length) {\n    throw new Error('useFocusController requires at least one target element');\n  }\n  var ref = useRef(shards);\n  ref.current = shards;\n  return useMemo(function () {\n    return {\n      autoFocus: function autoFocus(focusOptions) {\n        if (focusOptions === void 0) {\n          focusOptions = {};\n        }\n        return withMedium(function (car) {\n          return car.moveFocusInside(collapseRefs(ref.current), null, focusOptions);\n        });\n      },\n      focusNext: function focusNext(options) {\n        return withMedium(function (car) {\n          car.moveFocusInside(collapseRefs(ref.current), null);\n          car.focusNextElement(document.activeElement, _extends({\n            scope: collapseRefs(ref.current)\n          }, options));\n        });\n      },\n      focusPrev: function focusPrev(options) {\n        return withMedium(function (car) {\n          car.moveFocusInside(collapseRefs(ref.current), null);\n          car.focusPrevElement(document.activeElement, _extends({\n            scope: collapseRefs(ref.current)\n          }, options));\n        });\n      },\n      focusFirst: function focusFirst(options) {\n        return withMedium(function (car) {\n          car.focusFirstElement(collapseRefs(ref.current), options);\n        });\n      },\n      focusLast: function focusLast(options) {\n        return withMedium(function (car) {\n          car.focusLastElement(collapseRefs(ref.current), options);\n        });\n      }\n    };\n  }, []);\n};\nexport var useFocusScope = function useFocusScope() {\n  var scope = useContext(focusScope);\n  if (!scope) {\n    throw new Error('FocusLock is required to operate with FocusScope');\n  }\n  return useFocusController.apply(void 0, [scope.observed].concat(scope.shards));\n};","map":{"version":3,"names":["_extends","useContext","useMemo","useRef","focusScope","mediumEffect","extractRef","collapseRefs","shards","map","filter","Boolean","withMedium","fn","Promise","resolve","useMedium","apply","arguments","useFocusController","_len","length","Array","_key","Error","ref","current","autoFocus","focusOptions","car","moveFocusInside","focusNext","options","focusNextElement","document","activeElement","scope","focusPrev","focusPrevElement","focusFirst","focusFirstElement","focusLast","focusLastElement","useFocusScope","observed","concat"],"sources":["D:/IT/learn_node/books/client/node_modules/react-focus-lock/dist/es2015/use-focus-scope.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { useContext, useMemo, useRef } from 'react';\nimport { focusScope } from './scope';\nimport { mediumEffect } from './medium';\nimport { extractRef } from './util';\nvar collapseRefs = function collapseRefs(shards) {\n  return shards.map(extractRef).filter(Boolean);\n};\nvar withMedium = function withMedium(fn) {\n  return new Promise(function (resolve) {\n    return mediumEffect.useMedium(function () {\n      resolve(fn.apply(void 0, arguments));\n    });\n  });\n};\nexport var useFocusController = function useFocusController() {\n  for (var _len = arguments.length, shards = new Array(_len), _key = 0; _key < _len; _key++) {\n    shards[_key] = arguments[_key];\n  }\n  if (!shards.length) {\n    throw new Error('useFocusController requires at least one target element');\n  }\n  var ref = useRef(shards);\n  ref.current = shards;\n  return useMemo(function () {\n    return {\n      autoFocus: function autoFocus(focusOptions) {\n        if (focusOptions === void 0) {\n          focusOptions = {};\n        }\n        return withMedium(function (car) {\n          return car.moveFocusInside(collapseRefs(ref.current), null, focusOptions);\n        });\n      },\n      focusNext: function focusNext(options) {\n        return withMedium(function (car) {\n          car.moveFocusInside(collapseRefs(ref.current), null);\n          car.focusNextElement(document.activeElement, _extends({\n            scope: collapseRefs(ref.current)\n          }, options));\n        });\n      },\n      focusPrev: function focusPrev(options) {\n        return withMedium(function (car) {\n          car.moveFocusInside(collapseRefs(ref.current), null);\n          car.focusPrevElement(document.activeElement, _extends({\n            scope: collapseRefs(ref.current)\n          }, options));\n        });\n      },\n      focusFirst: function focusFirst(options) {\n        return withMedium(function (car) {\n          car.focusFirstElement(collapseRefs(ref.current), options);\n        });\n      },\n      focusLast: function focusLast(options) {\n        return withMedium(function (car) {\n          car.focusLastElement(collapseRefs(ref.current), options);\n        });\n      }\n    };\n  }, []);\n};\nexport var useFocusScope = function useFocusScope() {\n  var scope = useContext(focusScope);\n  if (!scope) {\n    throw new Error('FocusLock is required to operate with FocusScope');\n  }\n  return useFocusController.apply(void 0, [scope.observed].concat(scope.shards));\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}