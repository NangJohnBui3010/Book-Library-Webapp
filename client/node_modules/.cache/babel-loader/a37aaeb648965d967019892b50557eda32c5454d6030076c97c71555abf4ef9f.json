{"ast":null,"code":"import { toArray } from './array';\nexport var tabSort = function (a, b) {\n  var aTab = Math.max(0, a.tabIndex);\n  var bTab = Math.max(0, b.tabIndex);\n  var tabDiff = aTab - bTab;\n  var indexDiff = a.index - b.index;\n  if (tabDiff) {\n    if (!aTab) {\n      return 1;\n    }\n    if (!bTab) {\n      return -1;\n    }\n  }\n  return tabDiff || indexDiff;\n};\nvar getTabIndex = function (node) {\n  if (node.tabIndex < 0) {\n    // all \"focusable\" elements are already preselected\n    // but some might have implicit negative tabIndex\n    // return 0 for <audio without tabIndex attribute - it is \"tabbable\"\n    if (!node.hasAttribute('tabindex')) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n};\nexport var orderByTabIndex = function (nodes, filterNegative, keepGuards) {\n  return toArray(nodes).map(function (node, index) {\n    var tabIndex = getTabIndex(node);\n    return {\n      node: node,\n      index: index,\n      tabIndex: keepGuards && tabIndex === -1 ? (node.dataset || {}).focusGuard ? 0 : -1 : tabIndex\n    };\n  }).filter(function (data) {\n    return !filterNegative || data.tabIndex >= 0;\n  }).sort(tabSort);\n};","map":{"version":3,"names":["toArray","tabSort","a","b","aTab","Math","max","tabIndex","bTab","tabDiff","indexDiff","index","getTabIndex","node","hasAttribute","orderByTabIndex","nodes","filterNegative","keepGuards","map","dataset","focusGuard","filter","data","sort"],"sources":["D:/IT/learn_node/books/client/node_modules/focus-lock/dist/es2015/utils/tabOrder.js"],"sourcesContent":["import { toArray } from './array';\nexport var tabSort = function (a, b) {\n    var aTab = Math.max(0, a.tabIndex);\n    var bTab = Math.max(0, b.tabIndex);\n    var tabDiff = aTab - bTab;\n    var indexDiff = a.index - b.index;\n    if (tabDiff) {\n        if (!aTab) {\n            return 1;\n        }\n        if (!bTab) {\n            return -1;\n        }\n    }\n    return tabDiff || indexDiff;\n};\nvar getTabIndex = function (node) {\n    if (node.tabIndex < 0) {\n        // all \"focusable\" elements are already preselected\n        // but some might have implicit negative tabIndex\n        // return 0 for <audio without tabIndex attribute - it is \"tabbable\"\n        if (!node.hasAttribute('tabindex')) {\n            return 0;\n        }\n    }\n    return node.tabIndex;\n};\nexport var orderByTabIndex = function (nodes, filterNegative, keepGuards) {\n    return toArray(nodes)\n        .map(function (node, index) {\n        var tabIndex = getTabIndex(node);\n        return {\n            node: node,\n            index: index,\n            tabIndex: keepGuards && tabIndex === -1 ? ((node.dataset || {}).focusGuard ? 0 : -1) : tabIndex,\n        };\n    })\n        .filter(function (data) { return !filterNegative || data.tabIndex >= 0; })\n        .sort(tabSort);\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,SAAS;AACjC,OAAO,IAAIC,OAAO,GAAG,SAAAA,CAAUC,CAAC,EAAEC,CAAC,EAAE;EACjC,IAAIC,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEJ,CAAC,CAACK,QAAQ,CAAC;EAClC,IAAIC,IAAI,GAAGH,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEH,CAAC,CAACI,QAAQ,CAAC;EAClC,IAAIE,OAAO,GAAGL,IAAI,GAAGI,IAAI;EACzB,IAAIE,SAAS,GAAGR,CAAC,CAACS,KAAK,GAAGR,CAAC,CAACQ,KAAK;EACjC,IAAIF,OAAO,EAAE;IACT,IAAI,CAACL,IAAI,EAAE;MACP,OAAO,CAAC;IACZ;IACA,IAAI,CAACI,IAAI,EAAE;MACP,OAAO,CAAC,CAAC;IACb;EACJ;EACA,OAAOC,OAAO,IAAIC,SAAS;AAC/B,CAAC;AACD,IAAIE,WAAW,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAC9B,IAAIA,IAAI,CAACN,QAAQ,GAAG,CAAC,EAAE;IACnB;IACA;IACA;IACA,IAAI,CAACM,IAAI,CAACC,YAAY,CAAC,UAAU,CAAC,EAAE;MAChC,OAAO,CAAC;IACZ;EACJ;EACA,OAAOD,IAAI,CAACN,QAAQ;AACxB,CAAC;AACD,OAAO,IAAIQ,eAAe,GAAG,SAAAA,CAAUC,KAAK,EAAEC,cAAc,EAAEC,UAAU,EAAE;EACtE,OAAOlB,OAAO,CAACgB,KAAK,CAAC,CAChBG,GAAG,CAAC,UAAUN,IAAI,EAAEF,KAAK,EAAE;IAC5B,IAAIJ,QAAQ,GAAGK,WAAW,CAACC,IAAI,CAAC;IAChC,OAAO;MACHA,IAAI,EAAEA,IAAI;MACVF,KAAK,EAAEA,KAAK;MACZJ,QAAQ,EAAEW,UAAU,IAAIX,QAAQ,KAAK,CAAC,CAAC,GAAI,CAACM,IAAI,CAACO,OAAO,IAAI,CAAC,CAAC,EAAEC,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,GAAId;IAC3F,CAAC;EACL,CAAC,CAAC,CACGe,MAAM,CAAC,UAAUC,IAAI,EAAE;IAAE,OAAO,CAACN,cAAc,IAAIM,IAAI,CAAChB,QAAQ,IAAI,CAAC;EAAE,CAAC,CAAC,CACzEiB,IAAI,CAACvB,OAAO,CAAC;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}